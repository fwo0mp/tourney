// AUTO-GENERATED FILE. DO NOT EDIT.
// Generated by web/scripts/generate-e2e.mjs.

import { test, expect } from '../fixtures/e2e';

test("CASE-001: Dashboard bracket team detail trade flow", async ({ page }) => {
  // Source markdown: e2e/cases/CASE-001-dashboard-bracket-teamdetail-trade.md

  // CASE-001 Step-1: Open dashboard root page
  // Expected: Title and Teams tab are visible.
  await page.goto("/");
  await expect(page.getByTestId("app-title")).toBeVisible();
  await expect(page.getByTestId("dashboard-tab-teams")).toBeVisible();

  // CASE-001 Step-2: Open Bracket tab and set view to Sweet 16
  // Expected: Bracket panel is visible and selector value becomes sweet16.
  await page.getByTestId("dashboard-tab-bracket").click();
  await expect(page.getByTestId("bracket-view")).toBeVisible();
  await page.getByTestId("bracket-view-select").selectOption("sweet16");
  await expect(page.getByTestId("bracket-view-select")).toHaveValue("sweet16");

  // CASE-001 Step-3: Open Team Detail tab and choose Duke
  // Expected: Team Detail content loads for Duke.
  await page.getByTestId("dashboard-tab-teamdetail").click();
  await expect(page.getByTestId("teamdetail-team-select")).toBeVisible();
  await page.getByTestId("teamdetail-team-select").selectOption("Duke");
  await expect(page.getByRole("heading", { name: "Hypothetical Trade" })).toBeVisible();

  // CASE-001 Step-4: Set buy quantity and price for hypothetical trade
  // Expected: Impact cards are visible for position, EV change, and net impact.
  await page.getByTestId("teamdetail-direction-buy").click();
  await page.getByTestId("teamdetail-quantity-input").fill("5");
  await page.getByTestId("teamdetail-price-input").fill("2.5");
  await expect(page.getByTestId("teamdetail-position-change-card")).toBeVisible();
  await expect(page.getByTestId("teamdetail-ev-change-card")).toBeVisible();
  await expect(page.getByTestId("teamdetail-net-impact-card")).toBeVisible();

});
